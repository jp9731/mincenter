# ìë™ ìŠ¤ì¼€ì¼ë§ ì•„í‚¤í…ì²˜ ê°€ì´ë“œ

## ğŸ—ï¸ ì„œë²„ êµ¬ì„± ì „ëµ

### 1. **ê³ ì • ì„œë²„ (Static Infrastructure)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx LB      â”‚    â”‚     Redis       â”‚    â”‚   PostgreSQL    â”‚
â”‚   (1-2ëŒ€)       â”‚    â”‚     (1-3ëŒ€)     â”‚    â”‚   (1-3ëŒ€)       â”‚
â”‚   ê³ ì • ì„œë²„      â”‚    â”‚    ê³ ì • ì„œë²„     â”‚    â”‚    ê³ ì • ì„œë²„     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. **ìë™ ìŠ¤ì¼€ì¼ë§ ì„œë²„ (Auto Scaling)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx LB      â”‚    â”‚     Redis       â”‚    â”‚   PostgreSQL    â”‚
â”‚   (ê³ ì •)        â”‚    â”‚    (ê³ ì •)       â”‚    â”‚    (ê³ ì •)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  App Server 1   â”‚    â”‚  App Server 2   â”‚    â”‚  App Server N   â”‚
â”‚   (ìë™ ì¦ê°)    â”‚    â”‚   (ìë™ ì¦ê°)    â”‚    â”‚   (ìë™ ì¦ê°)    â”‚
â”‚   Min: 2ëŒ€      â”‚    â”‚   Max: 10ëŒ€     â”‚    â”‚   CPU > 70%     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š íŠ¸ë˜í”½ì— ë”°ë¥¸ ì„œë²„ ì¦ê°

### **ë‚®ì€ íŠ¸ë˜í”½ (í‰ìƒì‹œ)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx LB      â”‚    â”‚     Redis       â”‚    â”‚   PostgreSQL    â”‚
â”‚   (1ëŒ€)         â”‚    â”‚     (1ëŒ€)       â”‚    â”‚   (1ëŒ€)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  App Server 1   â”‚
                    â”‚  App Server 2   â”‚
                    â”‚   (ìµœì†Œ 2ëŒ€)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ë†’ì€ íŠ¸ë˜í”½ (í”¼í¬ ì‹œê°„)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx LB      â”‚    â”‚     Redis       â”‚    â”‚   PostgreSQL    â”‚
â”‚   (1ëŒ€)         â”‚    â”‚     (1ëŒ€)       â”‚    â”‚   (1ëŒ€)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  App Server 1   â”‚    â”‚  App Server 2   â”‚    â”‚  App Server 8   â”‚
â”‚  App Server 3   â”‚    â”‚  App Server 4   â”‚    â”‚  App Server 9   â”‚
â”‚  App Server 5   â”‚    â”‚  App Server 6   â”‚    â”‚  App Server 10  â”‚
â”‚  App Server 7   â”‚    â”‚                 â”‚    â”‚   (ìë™ ì¶”ê°€)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš™ï¸ ìë™ ìŠ¤ì¼€ì¼ë§ ì„¤ì •

### **AWS Auto Scaling Group ì˜ˆì‹œ**
```yaml
# Auto Scaling Group ì„¤ì •
AutoScalingGroup:
  MinSize: 2
  MaxSize: 10
  DesiredCapacity: 2
  
  # ìŠ¤ì¼€ì¼ë§ ì •ì±…
  ScalingPolicies:
    - ScaleUpPolicy:
        Metric: CPUUtilization
        Threshold: 70
        Period: 300
        Adjustment: +1
        
    - ScaleDownPolicy:
        Metric: CPUUtilization
        Threshold: 30
        Period: 300
        Adjustment: -1
```

### **Kubernetes HPA (Horizontal Pod Autoscaler)**
```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: minshool-app
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: minshool-app
  minReplicas: 2
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
```

## ğŸ”§ ì‹¤ì œ êµ¬í˜„ ë°©ë²•

### **1. Docker Swarm ë°©ì‹**
```bash
# ì„œë¹„ìŠ¤ ìƒì„± (ìë™ ë³µì œ)
docker service create \
  --name minshool-app \
  --replicas 2 \
  --publish 3000:3000 \
  minshool-app:latest

# ìŠ¤ì¼€ì¼ë§
docker service scale minshool-app=5
```

### **2. PM2 Cluster ë°©ì‹**
```javascript
// ecosystem.config.js
module.exports = {
  apps: [{
    name: 'minshool-app',
    script: './app.js',
    instances: 'max',  // CPU ì½”ì–´ ìˆ˜ë§Œí¼
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production'
    }
  }]
}
```

### **3. Nginx Upstream ìë™ ê°ì§€**
```nginx
# ë™ì  upstream ì„¤ì •
upstream app_servers {
    least_conn;
    
    # ì„œë²„ ëª©ë¡ì„ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸
    include /etc/nginx/upstream.conf;
    
    # í—¬ìŠ¤ì²´í¬
    keepalive 32;
}

# í—¬ìŠ¤ì²´í¬ ì„¤ì •
match health_check {
    status 200;
    header Content-Type = application/json;
    body ~ '"status":"healthy"';
}
```

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼

### **ìŠ¤ì¼€ì¼ë§ ë©”íŠ¸ë¦­**
```bash
# CPU ì‚¬ìš©ë¥  ëª¨ë‹ˆí„°ë§
watch -n 1 'top -bn1 | grep "Cpu(s)"'

# ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
free -h

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìˆ˜
netstat -an | grep :3000 | wc -l

# ì‘ë‹µ ì‹œê°„
curl -w "@curl-format.txt" -o /dev/null -s "http://localhost:3000"
```

### **ì•Œë¦¼ ì„¤ì •**
```bash
# CPU ì‚¬ìš©ë¥ ì´ 80% ì´ìƒì¼ ë•Œ ì•Œë¦¼
if [ $(top -bn1 | grep "Cpu(s)" | awk '{print $2}' | cut -d'%' -f1) -gt 80 ]; then
    echo "High CPU usage detected!" | mail -s "Server Alert" admin@example.com
fi
```

## ğŸ’° ë¹„ìš© ìµœì í™”

### **ìŠ¤ì¼€ì¼ë§ ì „ëµ**
1. **ì˜ˆì¸¡ ê¸°ë°˜ ìŠ¤ì¼€ì¼ë§**: ì‹œê°„ëŒ€ë³„ íŠ¸ë˜í”½ íŒ¨í„´ ë¶„ì„
2. **ë°˜ì‘í˜• ìŠ¤ì¼€ì¼ë§**: ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ê¸°ë°˜ ìë™ ì¡°ì •
3. **ë¹„ìš© ê¸°ë°˜ ìŠ¤ì¼€ì¼ë§**: ë¹„ìš© íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©

### **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ **
```
- CPU: 60-70% (ìŠ¤ì¼€ì¼ì—… ì„ê³„ê°’)
- Memory: 80% (ìŠ¤ì¼€ì¼ì—… ì„ê³„ê°’)
- Disk I/O: 70% (ìŠ¤ì¼€ì¼ì—… ì„ê³„ê°’)
- Network: 80% (ìŠ¤ì¼€ì¼ì—… ì„ê³„ê°’)
```

## ğŸš€ ë°°í¬ ì „ëµ

### **Blue-Green ë°°í¬**
```
1. Blue í™˜ê²½ (í˜„ì¬ ìš´ì˜)
2. Green í™˜ê²½ (ìƒˆ ë²„ì „ ë°°í¬)
3. íŠ¸ë˜í”½ ì „í™˜
4. Blue í™˜ê²½ ì œê±°
```

### **Rolling Update**
```
1. ì„œë²„ 1 ì—…ë°ì´íŠ¸ â†’ í—¬ìŠ¤ì²´í¬ â†’ íŠ¸ë˜í”½ ì „í™˜
2. ì„œë²„ 2 ì—…ë°ì´íŠ¸ â†’ í—¬ìŠ¤ì²´í¬ â†’ íŠ¸ë˜í”½ ì „í™˜
3. ì„œë²„ 3 ì—…ë°ì´íŠ¸ â†’ í—¬ìŠ¤ì²´í¬ â†’ íŠ¸ë˜í”½ ì „í™˜
```

## ğŸ“Š ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### **Netflix**
- ìˆ˜ì²œ ëŒ€ì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
- ì‹¤ì‹œê°„ íŠ¸ë˜í”½ì— ë”°ë¥¸ ìë™ ìŠ¤ì¼€ì¼ë§
- ì§€ì—­ë³„ CDN ë° ë¡œë“œ ë°¸ëŸ°ì‹±

### **Amazon**
- Auto Scaling Groups
- ELB (Elastic Load Balancer)
- RDS (ê´€ë¦¬í˜• ë°ì´í„°ë² ì´ìŠ¤)

### **Google**
- Kubernetes ê¸°ë°˜ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- GKE (Google Kubernetes Engine)
- Cloud Load Balancing 
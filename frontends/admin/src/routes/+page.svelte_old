<script lang="ts">
	import { onMount } from 'svelte';
	import {
		Card,
		CardContent,
		CardDescription,
		CardHeader,
		CardTitle
	} from '$lib/components/ui/card';
	import { Button } from '$lib/components/ui/button';
	import { Badge } from '$lib/components/ui/badge';

	// ëª© ë°ì´í„°ë¡œ ëŒ€ì‹œë³´ë“œ í†µê³„ ì„¤ì •
	const dashboardStats = {
		total_users: 1250,
		total_posts: 3420,
		total_comments: 15680,
		active_volunteers: 89,
		total_donations: 12500000,
		monthly_visitors: 15420
	};

	// í†µê³„ ì¹´ë“œ ë°ì´í„°
	$: statsCards = [
		{
			title: 'ì´ ì‚¬ìš©ì',
			value: dashboardStats.total_users,
			description: 'ì „ì²´ ë“±ë¡ëœ ì‚¬ìš©ì',
			icon: 'ğŸ‘¥',
			color: 'bg-blue-500'
		},
		{
			title: 'ì´ ê²Œì‹œê¸€',
			value: dashboardStats.total_posts,
			description: 'ì „ì²´ ê²Œì‹œê¸€ ìˆ˜',
			icon: 'ğŸ“',
			color: 'bg-green-500'
		},
		{
			title: 'ì´ ëŒ“ê¸€',
			value: dashboardStats.total_comments,
			description: 'ì „ì²´ ëŒ“ê¸€ ìˆ˜',
			icon: 'ğŸ’¬',
			color: 'bg-yellow-500'
		},
		{
			title: 'í™œì„± ë´‰ì‚¬ì',
			value: dashboardStats.active_volunteers,
			description: 'í˜„ì¬ í™œë™ ì¤‘ì¸ ë´‰ì‚¬ì',
			icon: 'ğŸ¤',
			color: 'bg-purple-500'
		},
		{
			title: 'ì´ í›„ì›ê¸ˆ',
			value: dashboardStats.total_donations.toLocaleString(),
			description: 'ì´ í›„ì› ê¸ˆì•¡',
			icon: 'ğŸ’°',
			color: 'bg-red-500'
		},
		{
			title: 'ì›”ê°„ ë°©ë¬¸ì',
			value: dashboardStats.monthly_visitors,
			description: 'ì´ë²ˆ ë‹¬ ë°©ë¬¸ì ìˆ˜',
			icon: 'ğŸ“Š',
			color: 'bg-indigo-500'
		}
	];

	// ìµœê·¼ í™œë™ ë°ì´í„° (ì„ì‹œ)
	const recentActivities = [
		{
			action: 'ìƒˆ ì‚¬ìš©ì ê°€ì…',
			user: 'ê¹€ì² ìˆ˜',
			time: '5ë¶„ ì „',
			type: 'user'
		},
		{
			action: 'ìƒˆ ê²Œì‹œê¸€ ì‘ì„±',
			user: 'ì´ì˜í¬',
			time: '10ë¶„ ì „',
			type: 'post'
		},
		{
			action: 'ë´‰ì‚¬ í™œë™ ì‹ ì²­',
			user: 'ë°•ë¯¼ìˆ˜',
			time: '15ë¶„ ì „',
			type: 'volunteer'
		},
		{
			action: 'í›„ì› ì™„ë£Œ',
			user: 'ì •ìˆ˜ì§„',
			time: '30ë¶„ ì „',
			type: 'donation'
		}
	];

	function getActivityIcon(type: string) {
		switch (type) {
			case 'user':
				return 'ğŸ‘¤';
			case 'post':
				return 'ğŸ“';
			case 'volunteer':
				return 'ğŸ¤';
			case 'donation':
				return 'ğŸ’°';
			default:
				return 'ğŸ“‹';
		}
	}
</script>

<div class="space-y-8">
	<!-- í˜ì´ì§€ í—¤ë” -->
	<div>
		<h1 class="text-3xl font-bold text-gray-900">ëŒ€ì‹œë³´ë“œ</h1>
		<p class="mt-2 text-gray-600">ì‹œìŠ¤í…œ í˜„í™©ê³¼ ìµœê·¼ í™œë™ì„ í™•ì¸í•˜ì„¸ìš”.</p>
	</div>

	<!-- í†µê³„ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
	<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
		{#each statsCards as card}
			<Card>
				<CardHeader class="flex flex-row items-center justify-between space-y-0 pb-2">
					<CardTitle class="text-sm font-medium text-gray-600">
						{card.title}
					</CardTitle>
					<div
						class="h-8 w-8 rounded-full {card.color} flex items-center justify-center text-lg text-white"
					>
						{card.icon}
					</div>
				</CardHeader>
				<CardContent>
					<div class="text-2xl font-bold text-gray-900">{card.value}</div>
					<p class="mt-1 text-xs text-gray-500">{card.description}</p>
				</CardContent>
			</Card>
		{/each}
	</div>

	<!-- ìµœê·¼ í™œë™ ë° ë¹ ë¥¸ ì•¡ì…˜ -->
	<div class="grid grid-cols-1 gap-8 lg:grid-cols-2">
		<!-- ìµœê·¼ í™œë™ -->
		<Card>
			<CardHeader>
				<CardTitle>ìµœê·¼ í™œë™</CardTitle>
				<CardDescription>ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•œ ìµœê·¼ í™œë™ë“¤ì…ë‹ˆë‹¤.</CardDescription>
			</CardHeader>
			<CardContent>
				<div class="space-y-4">
					{#each recentActivities as activity}
						<div class="flex items-center space-x-3">
							<div class="flex h-8 w-8 items-center justify-center rounded-full bg-gray-100">
								<span class="text-sm">{getActivityIcon(activity.type)}</span>
							</div>
							<div class="flex-1">
								<p class="text-sm font-medium text-gray-900">{activity.action}</p>
								<p class="text-xs text-gray-500">{activity.user} â€¢ {activity.time}</p>
							</div>
						</div>
					{/each}
				</div>
			</CardContent>
		</Card>

		<!-- ë¹ ë¥¸ ì•¡ì…˜ -->
		<Card>
			<CardHeader>
				<CardTitle>ë¹ ë¥¸ ì•¡ì…˜</CardTitle>
				<CardDescription>ìì£¼ ì‚¬ìš©í•˜ëŠ” ê´€ë¦¬ ê¸°ëŠ¥ë“¤ì…ë‹ˆë‹¤.</CardDescription>
			</CardHeader>
			<CardContent>
				<div class="grid grid-cols-2 gap-4">
					<Button
						variant="outline"
						class="flex h-20 flex-col items-center justify-center space-y-2"
					>
						<span class="text-2xl">ğŸ‘¥</span>
						<span class="text-sm">ì‚¬ìš©ì ê´€ë¦¬</span>
					</Button>
					<Button
						variant="outline"
						class="flex h-20 flex-col items-center justify-center space-y-2"
					>
						<span class="text-2xl">ğŸ“</span>
						<span class="text-sm">ê²Œì‹œê¸€ ê´€ë¦¬</span>
					</Button>
					<Button
						variant="outline"
						class="flex h-20 flex-col items-center justify-center space-y-2"
					>
						<span class="text-2xl">ğŸ¤</span>
						<span class="text-sm">ë´‰ì‚¬ í™œë™</span>
					</Button>
					<Button
						variant="outline"
						class="flex h-20 flex-col items-center justify-center space-y-2"
					>
						<span class="text-2xl">ğŸ””</span>
						<span class="text-sm">ì•Œë¦¼ ë°œì†¡</span>
					</Button>
				</div>
			</CardContent>
		</Card>
	</div>

	<!-- ì‹œìŠ¤í…œ ìƒíƒœ -->
	<Card>
		<CardHeader>
			<CardTitle>ì‹œìŠ¤í…œ ìƒíƒœ</CardTitle>
			<CardDescription>í˜„ì¬ ì‹œìŠ¤í…œì˜ ìƒíƒœ ì •ë³´ì…ë‹ˆë‹¤.</CardDescription>
		</CardHeader>
		<CardContent>
			<div class="grid grid-cols-1 gap-6 md:grid-cols-3">
				<div class="flex items-center space-x-3">
					<div class="h-3 w-3 rounded-full bg-green-500"></div>
					<div>
						<p class="text-sm font-medium text-gray-900">ë°ì´í„°ë² ì´ìŠ¤</p>
						<p class="text-xs text-gray-500">ì •ìƒ ì‘ë™ ì¤‘</p>
					</div>
				</div>
				<div class="flex items-center space-x-3">
					<div class="h-3 w-3 rounded-full bg-green-500"></div>
					<div>
						<p class="text-sm font-medium text-gray-900">API ì„œë²„</p>
						<p class="text-xs text-gray-500">ì •ìƒ ì‘ë™ ì¤‘</p>
					</div>
				</div>
				<div class="flex items-center space-x-3">
					<div class="h-3 w-3 rounded-full bg-green-500"></div>
					<div>
						<p class="text-sm font-medium text-gray-900">íŒŒì¼ ì €ì¥ì†Œ</p>
						<p class="text-xs text-gray-500">ì •ìƒ ì‘ë™ ì¤‘</p>
					</div>
				</div>
			</div>
		</CardContent>
	</Card>
</div>